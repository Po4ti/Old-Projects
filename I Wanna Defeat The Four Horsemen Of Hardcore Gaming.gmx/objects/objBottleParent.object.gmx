<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>maxHP = 24; //Здоровье
curHP = maxHP;

hitTime = 0; //Кулдаун
invulTime = 100;

step = 0;
img_spd = 0; //Хз что это

active = false; //Активность

image_speed = 0;

phase = 0; //Фаза бутылки

warned = false;

check = false;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="11">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///player dead
alarm[0] = -1;
alarm[1] = 1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Остановка
active = false;
step = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Начало
active = true;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///DONT USE THIS EVENT IN CHILDS

//Кулдаун
if(hitTime &gt; 0) {
    if !instance_exists(objBorisWarning) //Проверка на старт финалки бутылки
        hitTime--;
    image_alpha = 0.5;
} else {
    hitTime = 0;
    image_alpha = 1;
}
//Цвета
if((image_index == 0 &amp;&amp; !active) || (image_index == 3 &amp;&amp; active)) {
    exit;
}


//Цвет бутылки если активна/неактивна
if(active &amp;&amp; image_index &lt; 3) {
    image_speed = 1/4;
}

if(!active) {
    image_speed = 0;
    image_index = 0;
}

if(active &amp;&amp; image_index &gt;= 3) {
    image_index = 3;
    image_speed = 0;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Шаг, смена атаки при выношении фазы
if phase = 3 &amp;&amp; !warned  &amp;&amp; step = 0 {
    warned = true;

    invulTime = 200;
    
    with(objBossBulParent)
        destroyMe = true;
        
    
    audio_play_sound(sndWarning,0,0);
    
    with(objBorigan)
        alarm[0] = -1; //Прекратить смену атак пока не вынесена 4 фаза
        
    alarm[1] = -1;
    
    repeat(3) {
        instance_create(view_xview[0]+random_range(850,950), view_yview[0]+random_range(120,488), objBorisWarning);
    }
}

step++;


if(active) { 
    
    if(curHP == (maxHP*(3/4)) &amp;&amp; phase == 0) {
        objBorigan.alarm[0] = 1;
        alarm[1] = 1;
        phase++;
        exit;
    }
        if(curHP == (maxHP*(2/4)) &amp;&amp; phase == 1) {
        objBorigan.alarm[0] = 1;
        alarm[1] = 1;
        phase++;
        exit;
    }
    
    if(curHP == (maxHP*(1/4)) &amp;&amp; phase == 2) {
        objBorigan.alarm[0] = 1;
        alarm[1] = 1;
        phase++;
        exit;
    }
    

        
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if !global.debugMode
    exit;

phase = get_integer('Phase',1)-1;

if phase = 0 {
    curHP = maxHP;
}
    
if phase = 1 {
    curHP = maxHP*3/4;
}   

if phase = 2 {
    curHP = maxHP*2/4;
} 
    
if phase = 3 {
    curHP = maxHP*1/4+1;
    phase = 2;
} 
    
/*curHP++;
    
    if(curHP &gt; (maxHP*(3/4))) {
        phase = 0 //1 Фаза
    }
    
    if((curHP &gt; (maxHP*(2/4))) &amp;&amp; (curHP &lt;= (maxHP*(3/4)))) {
        phase = 1; //2 Фаза
    }
    
    if((curHP &gt; (maxHP*(1/4))) &amp;&amp; (curHP &lt;= (maxHP*(2/4)))) {
        phase = 2; //3 Фаза
    }
    if(curHP &lt;= (maxHP*(1/4))) {
        phase = 3; //4 Фаза
    } 
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if !global.debugMode
    exit;

check = true;
with(objBorigan)
    alarm[0] = 1;
    
with(objBottleParent) {
    if !check {
        with(hpFrame)
            instance_destroy();
        with(hpBar)
            instance_destroy();
        instance_destroy();
    }
}
    
    
/*curHP--;
    
    if(curHP &gt; (maxHP*(3/4))) {
        phase = 0 //1 Фаза
    }
    
    if((curHP &gt; (maxHP*(2/4))) &amp;&amp; (curHP &lt;= (maxHP*(3/4)))) {
        phase = 1; //2 Фаза
    }
    
    if((curHP &gt; (maxHP*(1/4))) &amp;&amp; (curHP &lt;= (maxHP*(2/4)))) {
        phase = 2; //3 Фаза
    }
    if(curHP &lt;= (maxHP*(1/4))) {
        phase = 3; //4 Фаза
    }  
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
